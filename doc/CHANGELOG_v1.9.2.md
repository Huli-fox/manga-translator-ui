# v1.9.2 更新日志

发布日期：2025-12-02

## 🎉 新功能

### Web UI 界面
- 新增基于 Flask 的 Web UI 管理界面
- 支持通过浏览器访问和管理翻译任务
- 提供直观的文件上传和任务管理功能
- 实时查看翻译进度和结果

### Docker 镜像支持
- 添加 Docker 镜像构建配置（实验性功能）
- 支持 CPU 和 GPU 两种版本
- 提供 docker-compose 配置文件
- 自动化 CI/CD 构建流程（GitHub Actions）
- 镜像自动推送到 Docker Hub：`hgmzhn/manga-translator`

## ⚡ 优化

### 编辑器文件列表
- 重构文件夹树结构管理，使用显式树结构代替递归推断
- 优化文件列表传递逻辑，确保主页和编辑器显示一致
- 改进文件/文件夹删除逻辑，修复删除子文件夹时列表清空的问题
- 添加完整的文件夹层级显示，包括顶层文件夹

### 文件排除逻辑
- 优化被删除文件/文件夹的排除机制
- 确保传递给翻译后端的文件列表正确排除已删除内容
- 改进子文件夹和单个文件的删除处理

### 日志输出
- 清理编辑器中的调试日志
- 保留翻译主流程的关键日志
- 减少不必要的日志输出，提升可读性

## 🐛 Bug修复

### 编辑器
- 修复从主页点击图片进入编辑器时，文件夹结构不完整的问题
- 修复删除子文件夹后整个文件列表被清空的问题
- 修复编辑器文件列表与主页显示不一致的问题

---

## 升级说明

### Docker 使用（实验性）

```bash
# 拉取镜像
docker pull your-username/manga-translator:latest-cpu

# 或使用 docker-compose
cd packaging
docker-compose up -d
```

**注意：** Docker 镜像功能目前处于实验阶段，可能存在未知问题。

### 常规升级

请参考项目文档中的安装和升级指南。

